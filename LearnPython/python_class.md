# オブジェクト指向プログラミング・pythonのクラスの勉強  

・pythonプログラミングでは、「**クラスの継承**」といった概念が最も大事。基本的な参照方法は、**<オブジェクト>.<属性>**。指定の属性を、指定のオブジェクトから、あるいはオブジェクトが属するツリー上から見つけ出す、という操作を行っている。  

・クラス： インスタンスの雛形。  
・インスタンス： 現実の世界の物事に対応するものとして扱われるもの。

・クラスにも、**スーパークラス**と**サブクラス**があり、サブクラス(ツリーの下側・左側に位置)の属性が優先される。一番最初に発見された属性を採用する。 (この考えは結構重要で、これを利用すれば、プログラムのカスタマイズが簡単になる。)　　

### ＊オブジェクトツリーの作成  
・クラスは、スーパークラスに「リンク」される。  
```  
class C1(C2,C3)  
```  
といった形でスーパークラスを利用する。　　

・class statementの中に、def statementによって、関数を定義することができる。  
```  
class C1(C2,C3):  
  def setname(self, who):  
    self.name = who  
      
I1 = C1()  
I1.setname("bob")  
print(I1.name)  
```   
ここで、defによって定義されたものは、「**メソッド**」と呼ばれる。その引数には、selfを持ってくるのが慣例となっているらしい。また、以下のようにすれば、インスタンス作成と同時に、属性を作成することも可能。　　
```  
class C1(C2,C3):  
  def __init__(self, who):  
    self.name = who  
      
I1 = C1("bob")   
print(I1.name)  
```  

・名前の前後に__のついたもの=メソッド  
・・・そのいずれもが、「演算子のオーバーロードが可能な」メソッド。特に、__init__は頻出のメソッドで、覚えるべし。

### ＊ここで一息  
pythonでクラスを用いた**オブジェクト指向プログラミング**(Object-oriented programinig, OOP)を勉強する上で、大切な概念は、以上でほぼ全て。あとは、演算子のオーバーロードなどのテクニックを学ぶだけ。基本的に、クラスは、モジュールと同じように、幾つかの関数・変数などを一つにまとめたものです。しかし、**他のクラスから属性を継承し、それをカスタマイズすることができる**という、モジュールにはない機能を持っている。同種のコードを、できるだけ少ないクラスにまとめることで、デバックなどが簡単になります。

### ＊実際の実相において、
- moduleファイルの中には、値、関数、classが、全てそのモジュールとして実装されている。例えば、food.pyの中では、

```  
var = 1     #food.var  
def func(): #food.func
  ...
class spam: #food.spam
  def methods(self, value): #food.spam.methods()として呼び出される
    ...
```  

### ＊演算子のオーバーロード?  
クラスのインスタンスオブジェクトを、ビルトインオブジェクトと同じように、連結やスライシング、printステートメント、記号などに対応できるものにすること。  
- 演算子のオーバーロードには、__x__という名前のメソッドを使用する。  
- 名前の前後に２つの下線のついたメソッドは、インスタンスオブジェクトが対応する演算に使われた時に、自動的に呼び出される。  
- クラスでは、**ビルドインオブジェクト**(*Javaスクリプトに最初に使用された、宣言なしで使える変数のこと)に使用される演算子のほとんど全てをオーバーロードできる。  

```  
class MyData:
    def __int__(self):
        #self.birthday = 20190101　##ここがモジュールでないので、こう書いても呼ばれない。したの一文も然り。
        print('コンストラクタが呼ばれました')
        
    def WriteMyName(self, name):
        self.MyName = name
        
a = MyData()
a.WriteMyName("Kosuke")
print("My name is", a.MyName)
print(dir(a))

a.HomeTown = "Mie-Ken" #属性を、外でも作れる。
a.HomeTown+=" Tsu-shi"  #演算子のオーバーロード
a.HomeTown = a.HomeTown * 3 #このように、あらゆる演算を、行うことができる。超便利かよ。
print(a.HomeTown)
```  
```  
Mie-Ken Tsu-shiMie-Ken Tsu-shiMie-Ken Tsu-shi
```  


- クラスの属性は、

- インスタンス属性と、クラス属性は、別々に定義できる。例えば　　
```
class MixedNames:　　
  data = "smap"　##これは、MixedNames.dataでよびだせる、クラス属性　　
  def __init__(self, value):　　
    self.data = value ##これは、x.dataでよびだせる、インスタンス属性　　
```

